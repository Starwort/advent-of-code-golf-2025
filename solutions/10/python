import scipy
from numpy import*
for z in open(c:=0,"rb"):t,*b,j=z.split();v=[1]*len(b);k=len(j:=eval(j[1:-1]));x=c_[*[isin(r_[:k]+48,a)for*a,in b]];c+=r_[[int(.5+scipy.optimize.milp(v+[0]*B,integrality=v+[1]*B,constraints=C).fun)for B,*C in[[k,c_[x,-2*eye(k)]]+[r_[[*t[1:-1]]]%2]*2,[0,x,j,j]]]]
print(*c)